<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/assets/vendor/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="/assets/vendor/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/assets/vendor/css/owl.theme.default.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.7/css/jquery.dataTables.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.2/css/buttons.dataTables.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <title>Education Academy</title>
</head>

<body>

        <form action="/admin/course" method="POST" id="addCourseForm" class="w-25">
            <!-- title -->
        <div class="mb-3">
          <label for="title" class="form-label">Course Title</label>
          <input type="text" name="title" class="form-control" id="title" >
         </div>
        
             <!-- description -->
        <div class="mb-3">
            <label for="description" class="form-label">Description</label>
            <input type="text" name="description" class="form-control" id="description" >
           </div>

               <!-- Duration -->
        <div class="mb-3">
            <label for="duration" class="form-label">Course Duration</label>
            <input type="number" name="duration" class="form-control" id="duration" >
           </div>

               <!-- Regular Price -->
            <div class="mb-3">
                <label for="regularPrice" class="form-label">Regular Price</label>
                <input type="number" name="regularPrice" class="form-control" id="regularPrice" >
            </div>
      
            <!-- Discounted Price -->
            <div class="mb-3">
                <label for="discountedPrice" class="form-label">Discounted Price</label>
                <input type="number" name="discountedPrice" class="form-control" id="discountedPrice" >
            </div>

            <!-- lecture  Count -->
            <div class="mb-3">
                <label for="lectureCount" class="form-label">Lecture Count</label>
                <input type="number" name="lectureCount" class="form-control" id="lectureCount" >
            </div>

             <!-- study  mode -->
             <div class="mb-3">
                <label for="studyMode" class="form-label">Study Mode</label>

                <!-- online -->
                <label for="online" class="form-check-label">online</label>
                <input type="radio" name="studyMode" class="form-check-input" value="online" id="online" >
                
               <!-- offline -->
               <label for="offline" class="form-check-label">offline</label>
               <input type="radio" name="studyMode" class="form-check-input" value="offline" id="offline" >

            </div>

            <!-- image -->
            <div class="mb-3">
                <label for="courseImage" class="form-label">Course Image</label>
                <input class="form-control" name="imageSrc" type="file" id="courseImage">
              </div>

            <button type="submit" class="btn btn-primary">Submit</button>
        </form>

  
 
    <script src="/assets/vendor/js/jquery-3.7.1.min.js"></script>
    
    <script src="/assets/vendor/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/vendor/js/owl.carousel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.3/jquery.validate.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollToPlugin.min.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.min.js" integrity="sha512-GWzVrcGlo0TxTRvz9ttioyYJ+Wwk9Ck0G81D+eO63BaqHaJ3YZX9wuqjwgfcV/MrB2PhaVX9DkYVhbFpStnqpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
   
   
   <script>
        const validationData = "../middlewares/counselling/clientValidation.js"
        $(document).ready(function () {
          // Custom email validation using regex
          $.validator.addMethod("customEmail", function (value, element) {
            // Modify the regular expression according to your needs
            return this.optional(element) || /^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(value);
          }, "Please enter a valid email address");
    
          $("#addCourseForm").validate({
            rules: {
    title: {
      required: true,
      minlength: 2,
      maxlength: 50,
    },
    description: {
      required: true,
      minlength: 2,
      maxlength: 50,
    },
    duration: {
      required: true,
      number: true,
    },
    regularPrice: {
      required: true,
      number: true,
    },
    discountedPrice: {
      required: true,
      number: true,
    },
    lectureCount: {
      required: true,
      number: true,
    },
    studyMode: "required",
    imageSrc: {
      required: true,
      extension: "jpg|jpeg|png", // Add valid file extensions
    },
  },
            messages: {
            // Messages for each field if validation fails
            title: {
            required: "Please enter the course title",
            minlength: "Title must be at least 2 characters",
            maxlength: "Title must not exceed 50 characters",
            },
            description: {
            required: "Please enter the description",
            minlength: "Description must be at least 2 characters",
            maxlength: "Description must not exceed 50 characters",
            },
            duration: {
            required: "Please enter the course duration",
            number: "Please enter a valid number",
            },
            regularPrice: {
            required: "Please enter the regular price",
            number: "Please enter a valid number",
            },
            discountedPrice: {
            required: "Please enter the discounted price",
            number: "Please enter a valid number",
            },
            lectureCount: {
            required: "Please enter the lecture count",
            number: "Please enter a valid number",
            },
            studyMode: "Please select the study mode",
            imageSrc: {
            required: "Please select a course image",
            extension: "Please upload a valid image file (jpg, jpeg, or png)",
            },
         },
           
    
            submitHandler: function (form, event) {
              alert("hi")
              event.preventDefault()
              // console.log($(form).serialize())
              $.ajax({
                type: "POST",
                url: "/admin/course",
                data: $(form).serialize(),
                success: function (data, status) {
                  console.log("DataReturn:", data);
                  console.log("Status:", status);
                    
                
                 
                  
                 
                },
                error: function (xhr, status, error) {
                  console.error("Error:", error);
                }
              });
    
            }
          });
    
        });
    
    
      </script>
    
     
    <script>
    </script>